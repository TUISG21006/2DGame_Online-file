<!DOCTYPE html>
<html>
<head>
<title>2DGame Online =Client=</title>

<script src="socket.io/socket.io.js"></script>
<script src="js/Title.js"></script>
<script src="js/Result.js"></script>
<script src="js/Collision.js"></script>
<script src="js/MainFunc.js"></script>
<script src="js/MoveFunc.js"></script>
<script src="js/SocketFunc.js"></script>
<script src="js/2Ddrow.js"></script>
<script src="js/3Ddrow.js"></script>
<script src="js/Attack.js"></script>
<script src="/libs/three.js"></script>
<script src="/libs/three.min.js"></script>
</head>

<body>
<!-- canvasを格納するiDv -->
<div id="canvas-output" style="float:left"></div>
<!-- Div which will hold the Output -->
<div id="WebGL-output"></div>
<script type="text/javascript">
//ドキュメント要素の取得
var canvas = document.createElement("canvas");
/*width,hightに関しては本来画面比率に準じた設定をしたい
　なおcanvasをThree.jsに受け渡す場合画面の下から設定となる*/
canvas.setAttribute("width",window.innerWidth);
canvas.setAttribute("height",window.innerHeight);
canvas.setAttribute("style", "position: absolute; x:0; y:0; bottom: 0px");
document.getElementById('canvas-output').appendChild(canvas);
var ctx = canvas.getContext("2d");

let AvaterData = [];
let Time;
let ItemData = [];
let My_num,Init,Map;

//描画するHPのサイズ
const DrowHp = 10;
//アバタ描画のサイズと雛形
let chara,WideCenter,HightCenter;

//if文のマジナン対策(同期箇所判定)
let Client = false;
let Server = true;
let drowD,AttackChoice;

//ゲーム終了時の処理
let GameOver = function(){
    Result();
}

//攻撃被弾時の処理
socket.on('AttackData_splice',(Data,num)=>{
    AttackData.splice(Data,1);
    AvaterData[num].hp--;
});
//メイン関数
window.onload = ()=>{
    //初期設定の受信
    socket.emit('Access');
    Title();
};

//ゲーム開始処理
let GameStert = function(){
    socket.emit('new');
}
</script>
</body>
</html>